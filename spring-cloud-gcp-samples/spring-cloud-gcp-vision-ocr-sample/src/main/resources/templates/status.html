<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Google Cloud Vision OCR Results</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>

<body>
  <h1>Pending Document OCR Operations</h1>

  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/status">Document OCR Results</a></li>
    </ul>
  </nav>

  <p>
    This page displays all pending and completed document OCR operations.
  </p>

  <table border="1">
    <tr>
      <th>Description</th>
      <th>Status</th>
      <th>Parsed Content</th>
    </tr>

    <tr th:each="ocrStatus : ${ocrStatuses}">
      <td>[[${ocrStatus.getGcsLocation()}]]</td>
      <td th:text="${ocrStatus.isDone()} ? 'OCR results ready' : 'OCR still running'" />
      <td th:if="${ocrStatus.isDone()}">
        <a th:href="@{/viewDocument(gcsDocumentUrl=${ocrStatus.getGcsLocation()})}">
          Get first 50 Words
        </a>
      </td>
    </tr>
  </table>
</body>
</html>
